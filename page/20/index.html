<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="Chens">
<meta property="og:url" content="http://yoursite.com/page/20/index.html">
<meta property="og:site_name" content="Chens">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chens">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/20/">





  <title>Chens</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Chens</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/14/data_structure/串的练习及一些思考/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chens">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/Vendetta.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chens">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/14/data_structure/串的练习及一些思考/" itemprop="url">串的练习及一些思考</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-14T16:31:20+08:00">
                2019-03-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/data-structure/" itemprop="url" rel="index">
                    <span itemprop="name">data_structure</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h2 id="一、strstr"><a href="#一、strstr" class="headerlink" title="一、strstr"></a>一、strstr</h2><p>###1、题目概述</p>
<blockquote>
<p>不调用C/C++的字符串函数，完成StrStr函数：把主串中子串及以后的字符全部返回。例如：主串是“12345678”，子串是“234”，那么函数的返回值就是“2345678”。</p>
</blockquote>
<p>###2、想法<br>刚看到这个题目，不由自主的想到了模式匹配，bf以及kmp。<br>与模式匹配的区别，就在于一个返回的是位置，一个返回的后面的串内容。<br>还是很好下手的。</p>
<p>由于在匹配里面需要用到字符串长度，先写了strlen函数,返回’/0’之前的数目<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数返回字符串str 的长度( 即空值结束符之前字符数目)。</span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">strlen</span><span class="params">(<span class="keyword">char</span> *str)</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i=<span class="number">0</span>,num=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (str[i++])</span><br><span class="line">		num++;</span><br><span class="line">	<span class="keyword">return</span> num;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p>
<p>最初的想法，通过BF算法找到匹配的位置，生成新的字符串，拷贝过去，并返回。如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这是我最初的思想，通过bf算法找到匹配的位置，新生成字符串拷贝过去，并返回</span></span><br><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">strstr</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *str1, <span class="keyword">const</span> <span class="keyword">char</span> *str2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> m=<span class="built_in">strlen</span>(str1);</span><br><span class="line">	<span class="keyword">int</span> n=<span class="built_in">strlen</span>(str2);</span><br><span class="line">	<span class="keyword">char</span> *a=<span class="keyword">new</span> <span class="keyword">char</span>[m]; </span><br><span class="line">	<span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (i&lt;m&amp;&amp;j&lt;n)	</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(str1[i++]==str2[j++]);</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			j=<span class="number">0</span>;</span><br><span class="line">			i=i-j+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (j&gt;=n)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> k=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> t=i-j;</span><br><span class="line">		<span class="keyword">while</span> (str1[t])</span><br><span class="line">			a[k++]=str1[t++];</span><br><span class="line">		a[k]=<span class="string">'\0'</span>;</span><br><span class="line">		<span class="keyword">return</span> a;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">return</span> <span class="string">"不匹配"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>但后来想，没有必要拷贝新的空间，就在原始的字符串修改指针位置即可，如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//函数返回一个指针，它指向字符串str2 首次出现于字符串str1中的位置，如果没有找到，返回提示。</span></span><br><span class="line"><span class="comment">//当然还是基于BF算法</span></span><br><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">strstr_1</span><span class="params">( <span class="keyword">char</span> *str1,  <span class="keyword">char</span> *str2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> m=<span class="built_in">strlen</span>(str1);</span><br><span class="line">	<span class="keyword">int</span> n=<span class="built_in">strlen</span>(str2);</span><br><span class="line">	<span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (i&lt;m&amp;&amp;j&lt;n)	</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(str1[i++]==str2[j++]);</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			j=<span class="number">0</span>;</span><br><span class="line">			i=i-j+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (j&gt;=n)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> &amp;str1[i-j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">return</span> <span class="string">"不匹配"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这样，就更加方便。测试一下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> a[<span class="number">20</span>]=<span class="string">"qweqwewqhello"</span>;</span><br><span class="line"><span class="keyword">char</span> b[<span class="number">10</span>]=<span class="string">"he"</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;strstr_1(a,b)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="built_in">strstr</span>(a,b)&lt;&lt;<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure></p>
<p>截图如下：<br><img src="http://7xi4ge.com1.z0.glb.clouddn.com/%E4%B8%B2%E8%A1%A5%E5%85%8501.png" alt="此处输入图片的描述"></p>
<p>###3、c实现<br>起始对于c语言的函数是怎么实现还是比较感兴趣的，于是搜索了下:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">strstr</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>*s1,<span class="keyword">const</span> <span class="keyword">char</span>*s2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">char</span>*p=s1;</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">size_t</span> len=<span class="built_in">strlen</span>(s2);</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">for</span>(;(p=<span class="built_in">strchr</span>(p,*s2))!=<span class="number">0</span>;p++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">strncmp</span>(p,s2,len)==<span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span>(<span class="keyword">char</span>*)p;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这段代码中strchr的作用是查找字符串s中首次出现字符c的位置，strncmp之多比较n个字符，和strcmp类似</p>
<hr>
<p>##二、删除特定字符<br>用C语言编写一个高效率的函数来删除字符串里的给定字符。这个函数的调用模型如下所示：<br>void RemoveChars(char str[],char remove[]);<br>请对设计思路作出解释，并对你解决方案的执行效率进行评估</p>
<p>###1、思路<br>一看到这个题目，第一个想法，就是暴力做，遍历第一个字符串，每次遍历时查找当前字符是否在第二个字符串中出现过</p>
<blockquote>
<ul>
<li>出现：删除该字符</li>
<li>没有出现过，保留该字符</li>
</ul>
</blockquote>
<p>那么按照这个思路，假设主串长m，子串长n，那么光遍历的时间复杂度就是O(mn);同时如果还需要删除，那么，需要把后面的全部都往前面移动，复杂度为O(m)级别,当然这个效率也还是很高的，特别是在子串长度不大的时候，效率接近线性。</p>
<p>恰巧，前几天在网上看了一篇有意思的文章，内容大概讲的就是，<a href="http://7xi4ge.com1.z0.glb.clouddn.com/%E4%B8%B2%E8%A1%A5%E5%85%85020.glb.clouddn.com/%E4%B8%B2%E8%A1%A5%E5%85%8501.png" target="_blank" rel="noopener">从武侠小说到程序员面试</a>。这篇文章从武侠小说举例，讲述了程序员的几种境界，围绕使用C语言把字母转换成大写，不能使用库函数这个问题展开讨论，其中有这样的一段，很适合我们这里。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span> <span class="title">to_upper</span><span class="params">(<span class="keyword">char</span> input)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">char</span> convert_table[] = &#123; ... &#125;;</span><br><span class="line">  <span class="keyword">return</span> convert_table[input];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这样会调高程序的效率，在我们这边使用，效果会更加明显，我们预先把26个字母的结果存在数组里面，访问的时候，如果是1，则表明需要去除，否则不需要去除，这样这块就由O(n)变成了O(1)；</p>
<p>然后对于删除，我们可以用以前老师提到过的双指针，一个自始至终记录最后的结果，另一个遍历整个数组，这样，没有额外的开销。</p>
<p>###2、实现<br>代码如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> judge_table[<span class="number">128</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RemoveChars</span><span class="params">(<span class="keyword">char</span> *str,<span class="keyword">char</span> *remove)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(judge_table,<span class="literal">false</span>,<span class="keyword">sizeof</span>(judge_table));</span><br><span class="line">	<span class="keyword">while</span>(*remove)</span><br><span class="line">        judge_table[*(remove++)]=<span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">char</span>* current;<span class="comment">//遍历指针</span></span><br><span class="line">	<span class="keyword">char</span>* result;<span class="comment">//结果指针</span></span><br><span class="line">	current=result=str;</span><br><span class="line">	<span class="keyword">while</span> (*current)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (judge_table[*current]==<span class="literal">false</span>)<span class="comment">//说明这个字符不需要被删除，那么结果指针保存这个字符，并后移，遍历指针也后移</span></span><br><span class="line">		&#123;</span><br><span class="line">			*result=*current;</span><br><span class="line">			current++;</span><br><span class="line">			result++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span><span class="comment">//需要被删除，遍历指针后移。</span></span><br><span class="line">		&#123;</span><br><span class="line">			current++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	*result=<span class="string">'\0'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这样，效率控制在O(n)线性级别。</p>
<p>测试结果：<br><img src="http://7xi4ge.com1.z0.glb.clouddn.com/%E4%B8%B2%E8%A1%A5%E5%85%8502.png" alt="此处输入图片的描述"></p>
<hr>
<p>##三、颠倒单词的顺序</p>
<p>###1、思路<br>由题目看得到，整体句子被翻转了，而个体单词没有被翻转，如果是java中，用string类型的split方法，分离空格，倒序输出就好了，但是c++没有提供这样的方法。</p>
<p>那么，我们可以先整体倒序，包括各个单词的顺序，然后只需要找准空格，把空格之间的再次调用函数倒序即可，实现思想不难，但码代码的时候，要注意细节。。</p>
<p>###2、实现<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">char</span> *start,<span class="keyword">char</span> *end)</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">	<span class="keyword">char</span> temp;</span><br><span class="line">	<span class="keyword">while</span>(start&lt;=end)</span><br><span class="line">	&#123;</span><br><span class="line">		temp=*start;</span><br><span class="line">		*start=*end;</span><br><span class="line">		*end=temp;</span><br><span class="line">		start++;</span><br><span class="line">		end--;        </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reverseAll</span><span class="params">(<span class="keyword">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;     </span><br><span class="line">	<span class="keyword">char</span> *start=str;</span><br><span class="line">	<span class="keyword">char</span> *end=str+<span class="built_in">strlen</span>(str)<span class="number">-1</span>;</span><br><span class="line">	reverse(start,end);	<span class="comment">//逆置整个句子</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//当没有到句子的末尾，找到空格，记录每个单词，逆置</span></span><br><span class="line">	<span class="keyword">char</span> *tmp=str;</span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span> (*tmp!=<span class="string">' '</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			tmp++;</span><br><span class="line">			<span class="keyword">if</span> (*tmp==<span class="number">0</span>)<span class="comment">//扫描到末尾，退出函数</span></span><br><span class="line">			&#123;</span><br><span class="line">				end=tmp<span class="number">-1</span>;</span><br><span class="line">				reverse(start,end);</span><br><span class="line">				<span class="keyword">return</span> ;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		end=tmp<span class="number">-1</span>;</span><br><span class="line">		reverse(start,end);</span><br><span class="line">		start=++tmp;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://7xi4ge.com1.z0.glb.clouddn.com/%E4%B8%B2%E8%A1%A5%E5%85%8503.png" alt="此处输入图片的描述"></p>
<hr>
<h2 id="四、查找包含个数"><a href="#四、查找包含个数" class="headerlink" title="四、查找包含个数"></a>四、查找包含个数</h2><p>统计s中包含t的个数</p>
<p>###1、分析<br>这个和模式匹配差不多，就是比模式匹配多了个找个数的过程，所以，我想到了，查到一个后，把剩下的传入继续查找，同时计数器加1，如果传进去的没有找到匹配的字符，那么说明，已经找完了，返回个数就可以了，实现也很简单，和模式匹配算法差不多。</p>
<p>###2、代码实现<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">countnum</span><span class="params">(<span class="keyword">char</span> *str1,<span class="keyword">char</span> *str2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> m=<span class="built_in">strlen</span>(str1);</span><br><span class="line">	<span class="keyword">int</span> n=<span class="built_in">strlen</span>(str2);</span><br><span class="line">	<span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (i&lt;m&amp;&amp;j&lt;n)	</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(str1[i]==str2[j])</span><br><span class="line">		&#123;</span><br><span class="line">			i++;</span><br><span class="line">			j++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			j=<span class="number">0</span>;</span><br><span class="line">			i=i-j+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (j&gt;=n)</span><br><span class="line">	&#123;</span><br><span class="line">		num++;</span><br><span class="line">		countnum(&amp;str1[i-j+n],str2);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>测试截图：<br><img src="http://7xi4ge.com1.z0.glb.clouddn.com/%E4%B8%B2%E8%A1%A5%E5%85%8504.png" alt="此处输入图片的描述"></p>
<p>###3、缺陷<br>但是有个明显的缺陷，比如主串是”aaaa”,字串是”aa”,这种情况很难界定。或许为了这种，可以把每次规模只缩小1，应该可以解决这个问题。。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/14/data_structure/三元组/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chens">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/Vendetta.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chens">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/14/data_structure/三元组/" itemprop="url">三元组</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-14T16:31:20+08:00">
                2019-03-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/data-structure/" itemprop="url" rel="index">
                    <span itemprop="name">data_structure</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p>首先先痛斥下vc6.0，并记住以后遇到模板类的，一定要全部重建。</p>
<p>###一、介绍<br>如果在矩阵中，多数的元素为0，称此矩阵为稀疏矩阵（sparse matrix）。<br>概念很清楚，矩阵中，0元素比较多的矩阵是稀疏矩阵，<br>这样的矩阵可以用三元组以及十字链表存贮，这里介绍三元组的用法。</p>
<p>###二、三元组介绍<br>含有在矩阵中的行列数，以及元素值的结构体。定义如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">struct</span> <span class="title">Triple</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> r,c;</span><br><span class="line">	T elem;</span><br><span class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(<span class="keyword">const</span> Triple&lt;T&gt;&amp; rhs) <span class="keyword">const</span> <span class="comment">// 升序排序时必须写的函数  </span></span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> r &lt; rhs.r;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>重载运算符是为了后面调用vector的排序，省的自己费心的按顺序插入，这样全部插好了，直接排序就好了。</p>
<p>###三、稀疏矩阵<br>这是一个类，类里面包含行数，列数，还有非零元的个数，同时非零元的具体值，即三元组，用的是向量存储，动态扩容，随机访问复杂度为o(1),很强大的工具。</p>
<p>###3.1构造函数的撰写<br>构造函数，我准备写两种形式，</p>
<blockquote>
<ul>
<li>第一种无参，那就要求从键盘键入值，</li>
<li>第二种有参，那数据来源是文件</li>
</ul>
</blockquote>
<p>####3.1.1无参<br>先存储数据的个数，如行数，列数，非零元个数，然后循环读取数据，存入，并压入向量，最后对其排序。<br>最好能对重复元素位置做检测，这边没有实现这个功能，以后再补吧。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">SparseMatrix</span>&lt;T&gt;:</span>:SparseMatrix()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">do</span> &#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="string">"请分别输入矩阵的行数、列数和非零元个数：\n"</span>;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="string">"行数："</span>;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;<span class="keyword">this</span>-&gt;row;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="string">"列数："</span>;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;<span class="keyword">this</span>-&gt;col;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="string">"非零元的个数："</span>;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;<span class="keyword">this</span>-&gt;num;</span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">this</span>-&gt;row &lt; <span class="number">0</span> || <span class="keyword">this</span>-&gt;col &lt; <span class="number">0</span> || <span class="keyword">this</span>-&gt;num &lt; <span class="number">0</span> || <span class="keyword">this</span>-&gt;num &gt; <span class="keyword">this</span>-&gt;row * <span class="keyword">this</span>-&gt;col) <span class="built_in">cout</span>&lt;&lt;<span class="string">"有错。。"</span>;</span><br><span class="line">	&#125; <span class="keyword">while</span>(<span class="keyword">this</span>-&gt;row &lt; <span class="number">0</span> || <span class="keyword">this</span>-&gt;col &lt; <span class="number">0</span> || <span class="keyword">this</span>-&gt;num &lt; <span class="number">0</span> || <span class="keyword">this</span>-&gt;num &gt; <span class="keyword">this</span>-&gt;row * <span class="keyword">this</span>-&gt;col);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//保证了数据的正确性。。</span></span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">this</span>-&gt;num==<span class="number">0</span>) <span class="keyword">return</span> ;<span class="comment">//每个元素都是空的。</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> k =<span class="number">0</span>;k&lt;<span class="keyword">this</span>-&gt;num;k++)</span><br><span class="line">	&#123;</span><br><span class="line">		Triple&lt;T&gt; tmp;</span><br><span class="line">		<span class="keyword">do</span> &#123;</span><br><span class="line">			<span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入第"</span>&lt;&lt;k+<span class="number">1</span>&lt;&lt;<span class="string">"个非零元的行和列：\n"</span>;</span><br><span class="line">			<span class="built_in">cout</span>&lt;&lt;<span class="string">"行："</span>;</span><br><span class="line">			<span class="built_in">cin</span>&gt;&gt;tmp.r;</span><br><span class="line">			<span class="built_in">cout</span>&lt;&lt;<span class="string">"列："</span>;</span><br><span class="line">			<span class="built_in">cin</span>&gt;&gt;tmp.c;          </span><br><span class="line">			<span class="built_in">cout</span>&lt;&lt;<span class="string">"元素:"</span>;</span><br><span class="line">			<span class="built_in">cin</span>&gt;&gt;tmp.elem;</span><br><span class="line">			<span class="keyword">if</span>(tmp.r &lt;= <span class="number">0</span> || tmp.r &gt; <span class="keyword">this</span>-&gt;row || tmp.c &lt;= <span class="number">0</span> || tmp.c &gt; <span class="keyword">this</span>-&gt;col)	 <span class="built_in">cout</span>&lt;&lt;<span class="string">"有错。。重输"</span>;</span><br><span class="line">		&#125; <span class="keyword">while</span>(tmp.r &lt;= <span class="number">0</span> || tmp.r &gt; <span class="keyword">this</span>-&gt;row || tmp.c &lt;= <span class="number">0</span> || tmp.c &gt; <span class="keyword">this</span>-&gt;col);<span class="comment">//检测输入是否合法 </span></span><br><span class="line">		triList.push_back(tmp);</span><br><span class="line">	&#125;</span><br><span class="line">	sort(triList.begin(), triList.end());</span><br><span class="line"><span class="comment">/*	for (int i=0;i&lt;triList.size();i++)</span></span><br><span class="line"><span class="comment">	&#123;</span></span><br><span class="line"><span class="comment">		cout&lt;&lt;triList[i].r&lt;&lt;"   ";</span></span><br><span class="line"><span class="comment">	&#125;</span></span><br><span class="line"><span class="comment">*/</span><span class="comment">//	std::sort(triList,0);	！！！重要的，一定要排序或者想办法顺序插入。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>####3.1.2有参构造函数<br>这边的数据，准备来源于文件，所以先介绍文件的格式</p>
<blockquote>
<p>5<br>5 5<br>2 3 1<br>3 2 2<br>2 4 3<br>5 5 4<br>1 2 5</p>
</blockquote>
<p>第一行为非零元个数<br>第二行是矩阵规模<br>后面是三元组的内容。<br>所以设计load函数也很方便。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> num;</span><br><span class="line"><span class="keyword">int</span> r;</span><br><span class="line"><span class="keyword">int</span> c;</span><br><span class="line">Triple&lt;<span class="keyword">int</span>&gt; * Load(<span class="keyword">char</span> *fname)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="function">ifstream <span class="title">fin</span><span class="params">(fname)</span></span>;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	fin&gt;&gt;n;</span><br><span class="line">	num=n;</span><br><span class="line">	fin&gt;&gt;r;</span><br><span class="line">	fin&gt;&gt;c;</span><br><span class="line">	Triple&lt;<span class="keyword">int</span>&gt; *<span class="built_in">list</span>=<span class="keyword">new</span> Triple&lt;<span class="keyword">int</span>&gt; [n];</span><br><span class="line">	<span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(!fin.eof())</span><br><span class="line">	&#123;</span><br><span class="line">		fin&gt;&gt;<span class="built_in">list</span>[i].r;</span><br><span class="line">		fin&gt;&gt;<span class="built_in">list</span>[i].c;</span><br><span class="line">		fin&gt;&gt;<span class="built_in">list</span>[i++].elem;</span><br><span class="line">	&#125;</span><br><span class="line">	fin.close();</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">list</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>全局变量num，r，c便于传递有参函数的参数，Load函数返回的是结构体数组，我们利用这个来构造矩阵。同样也需要判重，这边不写。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">SparseMatrix</span>&lt;T&gt;:</span>:SparseMatrix(<span class="keyword">int</span> rs,<span class="keyword">int</span> cs,<span class="keyword">int</span> n,Triple&lt;T&gt; *<span class="built_in">list</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">this</span>-&gt;col=cs;</span><br><span class="line">	<span class="keyword">this</span>-&gt;row=rs;</span><br><span class="line">	<span class="keyword">this</span>-&gt;num=n;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		Triple&lt;T&gt; tmp;</span><br><span class="line">		tmp.r=<span class="built_in">list</span>[i].r;</span><br><span class="line">		tmp.c=<span class="built_in">list</span>[i].c;  </span><br><span class="line">		tmp.elem=<span class="built_in">list</span>[i].elem;</span><br><span class="line">		triList.push_back(tmp);</span><br><span class="line">	&#125;</span><br><span class="line">	sort(triList.begin(), triList.end());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这样，调用的方式为<br><code>SparseMatrix&lt;int&gt; sm(r,c,num,Load(&quot;data.txt&quot;));</code><br>但是很奇怪的是，<br>如果声明为：<br><code>SparseMatrix(Triple&lt;T&gt; *list,int rs,int cs,int n);</code><br>这样在调用时错的，这个问题我前面也遇到过，尝试解释过，但不知道对不对。</p>
<p>###3.2输出矩阵<br>目的很明确，把矩阵输出。<br>没什么好办法，一个个的遍历，因为triList里面的元素是按照行来排序的，所以依次遍历，对比该位置是否存在值，存在输出，不存在输出0.<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">SparseMatrix</span>&lt;T&gt;:</span>:print()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">int</span> i, j, k;<span class="comment">//中间变量</span></span><br><span class="line">	<span class="comment">//输出</span></span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">1</span>, k = <span class="number">0</span>; i &lt;= <span class="keyword">this</span>-&gt;row; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(j = <span class="number">1</span>; j &lt;=<span class="keyword">this</span>-&gt;col; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">int</span> r=<span class="keyword">this</span>-&gt;triList[k].r;</span><br><span class="line">			<span class="keyword">int</span> c=<span class="keyword">this</span>-&gt;triList[k].c;</span><br><span class="line">			<span class="keyword">if</span>(i ==  r &amp;&amp;j == c) </span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">cout</span>&lt;&lt;<span class="keyword">this</span>-&gt;triList[k].elem&lt;&lt;<span class="string">"\t"</span>;</span><br><span class="line">				k++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;<span class="number">0</span>&lt;&lt;<span class="string">"\t"</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>###3.3转置<br>这块运用的是快速转置。这边遇到的问题是，调试的时候，多次遇到错，检测不出来，到最后发现，是因为没有全部重建，导致部分语句并没有被重编译，给debug带来巨大的麻烦，切记。<br>代码本身还是很好理解的，书上也给了详细的说明：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">输出</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">SparseMatrix</span>&lt;T&gt;:</span>:trans(SparseMatrix&lt;T&gt;&amp; B)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">int</span> co=col;</span><br><span class="line">	B.row = <span class="keyword">this</span>-&gt;col;</span><br><span class="line">	B.col = <span class="keyword">this</span>-&gt;row;</span><br><span class="line">	B.num = <span class="keyword">this</span>-&gt;num;</span><br><span class="line">	B.triList.resize(num);</span><br><span class="line">	<span class="keyword">if</span>(num == <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	<span class="keyword">int</span>* cnum = <span class="keyword">new</span> <span class="keyword">int</span> [<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">int</span>* cpot = <span class="keyword">new</span> <span class="keyword">int</span> [<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;co; i++)</span><br><span class="line">		cnum[i] = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>; t&lt;num;t++)</span><br><span class="line">	&#123;</span><br><span class="line">	<span class="comment">//	cout&lt;&lt;t&lt;&lt;endl;</span></span><br><span class="line">	<span class="comment">//	cout&lt;&lt;triList[t].c ;</span></span><br><span class="line">		++cnum[triList[t].c];	</span><br><span class="line">	&#125;</span><br><span class="line">	cpot[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">2</span>; i&lt;=co; i++)</span><br><span class="line">		cpot[i] = cpot[i<span class="number">-1</span>]+cnum[i<span class="number">-1</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> p=<span class="number">0</span>; p&lt;num; p++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> n = triList[p].c;</span><br><span class="line">		<span class="keyword">int</span> q = cpot[n];</span><br><span class="line">		B.triList[q].r = triList[p].c;</span><br><span class="line">		B.triList[q].c = triList[p].r;</span><br><span class="line">		B.triList[q].elem = triList[p].elem;</span><br><span class="line">		++cpot[n];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">delete</span>[] cnum;</span><br><span class="line">	<span class="keyword">delete</span>[] cpot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>##四、测试<br>最后，做一个小小的测试，由于无参构造函数也需要输入值，如果不真的需要值，可以输入0 0 0；<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	SparseMatrix&lt;<span class="keyword">int</span>&gt; sm(r,c,num,Load(<span class="string">"data.txt"</span>));</span><br><span class="line">	sm.print();</span><br><span class="line">	SparseMatrix&lt;<span class="keyword">int</span>&gt; sm1;</span><br><span class="line">	sm.trans(sm1);</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="string">"转置后"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	sm1.print();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>测试截图：<br><img src="http://7xi4ge.com1.z0.glb.clouddn.com/%E7%A8%80%E7%96%8F.png" alt="此处输入图片的描述"></p>
<p>2015年4月22日晚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/14/data_structure/【string字符串操作】/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chens">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/Vendetta.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chens">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/14/data_structure/【string字符串操作】/" itemprop="url">【string字符串操作】</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-14T16:31:20+08:00">
                2019-03-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/data-structure/" itemprop="url" rel="index">
                    <span itemprop="name">data_structure</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p>##一、比较字符串<br>允许的比较对象 </p>
<blockquote>
<ul>
<li>1）compare(s2) 其他同类型字符串 </li>
<li>2）compare(p) C 风格字符串 </li>
<li>3）compare(off, cnt, s2) [off, off + cnt) 同 s2 执行比较 </li>
<li>4）compare(off, cnt, s2, off2, cnt2) [off, off + cnt) 同 s2 [off2, cnt2) 执行比较 </li>
<li>5）compare(off, cnt, p) [off, off + cnt) 同 [p , <null>) 执行比较 </null></li>
<li>6）compare(off, cnt, p, cnt2) [off, off + cnt) 同 [p, p + cnt2) 执行比较<br>返回 -1, 0, 1 作为小于、等于和大于的比较结果。 </li>
</ul>
</blockquote>
<hr>
<p>##二、附加数据 </p>
<p>###1）使用 operator += 接受其他字符串，C 风格字符串和字符 </p>
<p>###2）使用 push_back() 在尾部附加字符，并使得通过字符串构造的 back_iterator 可以访问 </p>
<p>###3）append() 附加 </p>
<blockquote>
<ul>
<li>1、append(s) 追加字符串 </li>
<li>2、append(s, off, cnt) 追加字符串 s [off, off + cnt)</li>
<li>3、append(p) 追加字符串 [p, <null>) </null></li>
<li>4、append(p, cnt) 追加字符串 [p, p + cnt) </li>
<li>5、append(n, c) 填充 n * c </li>
<li>6、append(InF, InL) 追加输入流 [InF, InL) </li>
</ul>
</blockquote>
<p>###4）insert() 插入 </p>
<blockquote>
<ul>
<li>1、insert(off, s2) 插入字符串 </li>
<li>2、insert(off, s2, off2, cnt2) 插入字符串 s [off2, off2 + cnt2) </li>
<li>3、insert(off, p) 插入字符串 [p, <null>) </null></li>
<li>4、insert(off, p, cnt) 插入字符串 [p, p + cnt)</li>
<li>5、insert(off, n, c) 插入 n * c </li>
<li>6、insert(iter) 元素默认值填充 </li>
<li>7、insert(iter, c) 插入特定元素 </li>
<li>8、insert(iter, n, c) 插入 n*c </li>
<li>9、insert(iter, InF, InL) 插入 [InF, InL) </li>
</ul>
</blockquote>
<p>###5）operator +(a, b)<br>字符串关联运算符重载中支持 operator + 的形式 </p>
<blockquote>
<ul>
<li>1、s + s </li>
<li>2、s + p </li>
<li>3、s + c </li>
<li>4、p + s </li>
<li>5、c + s </li>
</ul>
</blockquote>
<hr>
<p>##三、查找、替换和清除 </p>
<p>###1）find() 查找 </p>
<blockquote>
<ul>
<li>1、find(c, off) 在 s [off, npos) 中查找 c </li>
<li>2、find(p, off, n) 在 s [off, npos) 中查找 [p, p + n) </li>
<li>3、find(p, off) 在 s [off, npos) 中查找 [p, <null>) </null></li>
<li>4、find(s2, off) 在 s [off, npos) 中查找 s2 </li>
</ul>
</blockquote>
<p>###2）find() 的变种 </p>
<blockquote>
<ul>
<li>1、rfind() 具有 find() 的输入形式，反序查找 </li>
<li>2、find_first_of() 具有 find() 的输入形式，返回第一个匹配的索引 </li>
<li>3、find_last_of() 具有 find() 的输入形式，返回倒数第一个匹配的索引 </li>
<li>4、find_first_not_of() 具有 find() 的输入形式，返回第一个不匹配的索引 </li>
<li>5、find_last_not_of() 具有 find() 的输入形式，返回倒数第一个不匹配的索引 </li>
</ul>
</blockquote>
<p>###3）replace() 替换 </p>
<blockquote>
<ul>
<li>1、replace(off, cnt, s2) 将 s [off, off + cnt) 替换成 s2 </li>
<li>2、replace(off, cnt, s2, off2, cnt2) 将 s [off, off + cnt) 替换成 s2 [off2, off2 + cnt2)</li>
</ul>
<ul>
<li>3、replace(off, cnt, p) 将 s [off, off + cnt) 替换成 [p, <null>) </null></li>
<li>4、replace(off, cnt, p, cnt2) 将 s [off, off + cnt) 替换成 [p, p + cnt2)</li>
<li>5、replace(off, cnt, n, c) 将 s [off, off + cnt) 替换成 c * n<br>使用迭代器的情况： </li>
<li>6、replace(InF, InL, s2) 将 [InF, InL) 替换成 s2 </li>
<li>7、replace(InF, InL, p) 将 [InF, InL) 替换成 [p, <null>) </null></li>
<li>8、replace(InF, InL, p, cnt) 将 [InF, InL) 替换成 [p, p + cnt) </li>
<li>9、replace(InF, InL, n, c) 将 [InF, InL) 替换成 n * c </li>
<li>10、replace(InF, InL, InF2, InL2) 将 [InF, InL) 替换成 [InF2, InL2) </li>
</ul>
</blockquote>
<p>###4）erase() 删除 </p>
<blockquote>
<ul>
<li>1、erase(off, cnt) 从字符串 s 中删除 s [off, off + cnt) </li>
<li>2、erase(iter) 从字符串 s 中删除 *iter </li>
<li>3、erase(ItF, ItL) 从字符串 s 中删除 [ItF, ItL) </li>
</ul>
</blockquote>
<hr>
<p>##四、取出字符串 </p>
<p>###1）取得 C 风格字符串<br>c_str() 返回常量类型的 C 风格字符串指针，copy(ptr, cnt, off = 0) 则将指定大小的字符串复制到特定指针。data() 在 Visual C++ 7.1 中仅仅调用了 c_str() 实现。 </p>
<p>###2）取得子字符串<br>substr(off, cnt) 取得 s [off, off + cnt) 的副本。  </p>
<p>###3）复制子字符串<br>copy(p, off, cnt) 将 s [off, off + cnt) 复制到 p。 </p>
<hr>
<p>##五、字符串的缓冲区管理<br>字符串具有类似 std::vector 的缓冲区管理界面。  </p>
<blockquote>
<ul>
<li>size() 取得有效元素长度 </li>
<li>max_size() 取得当前内存分配器能分配的有效空间 </li>
<li>reserve() 为缓冲区预留空间 </li>
<li>capacity() 取得缓冲区的容量 </li>
<li>resize() 重设串的长度，可以为其指定初始化值 </li>
</ul>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/14/data_structure/【C语言字符串操作】/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chens">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/Vendetta.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chens">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/14/data_structure/【C语言字符串操作】/" itemprop="url">【C语言字符串操作】</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-14T16:31:20+08:00">
                2019-03-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/data-structure/" itemprop="url" rel="index">
                    <span itemprop="name">data_structure</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p>##一、字符串操作 </p>
<blockquote>
<ul>
<li>strcpy(p, p1) 复制字符串 </li>
<li>strncpy(p, p1, n) 复制指定长度字符串 </li>
<li>strcat(p, p1) 附加字符串 </li>
<li>strncat(p, p1, n) 附加指定长度字符串 </li>
<li>strlen(p) 取字符串长度 </li>
<li>strcmp(p, p1) 比较字符串 </li>
<li>strcasecmp忽略大小写比较字符串</li>
<li>strncmp(p, p1, n) 比较指定长度字符串 </li>
<li>strchr(p, c) 在字符串中查找指定字符 </li>
<li>strrchr(p, c) 在字符串中反向查找 </li>
<li>strstr(p, p1) 查找字符串 </li>
<li>strpbrk(p, p1) 以目标字符串的所有字符作为集合，在当前字符串查找该集合的任一元素 </li>
<li>strspn(p, p1) 以目标字符串的所有字符作为集合，在当前字符串查找不属于该集合的任一元素的偏移 </li>
<li>strcspn(p, p1) 以目标字符串的所有字符作为集合，在当前字符串查找属于该集合的任一元素的偏移  </li>
<li>【注】具有指定长度的字符串处理函数在已处理的字符串之后填补零结尾符 </li>
</ul>
</blockquote>
<hr>
<p>##二、字符串到数值类型的转换 </p>
<blockquote>
<ul>
<li>strtod(p, ppend) 从字符串 p 中转换 double 类型数值，并将后续的字符串指针存储到 ppend 指向的 char* 类型存储。</li>
<li>strtol(p, ppend, base) 从字符串 p 中转换 long 类型整型数值，base 显式设置转换的整型进制，设置为 0 以根据特定格式判断所用进制，0x, 0X 前缀以解释为十六进制格式整型，0    前缀以解释为八进制格式整型</li>
<li>atoi(p) 字符串转换到 int 整型 </li>
<li>atof(p) 字符串转换到 double 符点数 </li>
<li>atol(p) 字符串转换到 long 整型 </li>
</ul>
</blockquote>
<hr>
<p>##三、字符检查 </p>
<blockquote>
<ul>
<li>isalpha() 检查是否为字母字符 </li>
<li>isupper() 检查是否为大写字母字符 </li>
<li>islower() 检查是否为小写字母字符 </li>
<li>isdigit() 检查是否为数字 </li>
<li>isxdigit() 检查是否为十六进制数字表示的有效字符 </li>
<li>isspace() 检查是否为空格类型字符 </li>
<li>iscntrl() 检查是否为控制字符 </li>
<li>ispunct() 检查是否为标点符号 </li>
<li>isalnum() 检查是否为字母和数字 </li>
<li>isprint() 检查是否是可打印字符 </li>
<li>isgraph() 检查是否是图形字符，等效于 isalnum() | ispunct() </li>
</ul>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/14/data_structure/STL栈实现及书本对比/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chens">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/Vendetta.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chens">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/14/data_structure/STL栈实现及书本对比/" itemprop="url">STL栈实现及书本对比</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-14T16:31:20+08:00">
                2019-03-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/data-structure/" itemprop="url" rel="index">
                    <span itemprop="name">data_structure</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p><a href="https://www.zybuluo.com/rg070836rg/note/83692" target="_blank" rel="noopener">返回目录</a></p>
<hr>
<p><strong>栈</strong>是一种只允许在一端进行插入与移除的数据结构。</p>
<hr>
<p>##一、课本分析<br>书本上的栈，主要分为两种实现</p>
<blockquote>
<ul>
<li>顺序栈</li>
<li>链栈</li>
</ul>
</blockquote>
<p>顺序栈需要事先指定元素，空间固定。<br>链栈随用随申请，一般不会出现空间问题。</p>
<p>栈实现比较简便，功能明确，</p>
<ul>
<li>top()        获取栈顶元素</li>
<li>push(T x)    向栈中压入元素   </li>
<li>pop()        弹出栈顶元素</li>
<li>size()       返回元素个数   </li>
<li>empty()      判断栈是否为空</li>
</ul>
<p>具体实现可以参见：<a href="https://www.zybuluo.com/rg070836rg/note/83233" target="_blank" rel="noopener">顺序栈以及双栈的设计与测试</a></p>
<hr>
<p>##二、STL栈<br>文章内容参考：<a href="http://blog.csdn.net/MoreWindows" target="_blank" rel="noopener">STL系列之二 stack栈</a></p>
<p>下面，贴出在VS中，stack的定义<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> _<span class="title">Ty</span>, <span class="title">class</span> _<span class="title">Container</span> = <span class="title">deque</span>&lt;_Ty&gt; &gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">stack</span></span></span><br><span class="line"><span class="class">&#123;</span>	<span class="comment">// LIFO queue implemented with a container</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="keyword">typedef</span> _Container container_type;</span><br><span class="line">	<span class="keyword">typedef</span> <span class="keyword">typename</span> _Container::value_type value_type;</span><br><span class="line">	<span class="keyword">typedef</span> <span class="keyword">typename</span> _Container::size_type size_type;</span><br><span class="line">	<span class="keyword">typedef</span> <span class="keyword">typename</span> _Container::reference reference;</span><br><span class="line">	<span class="keyword">typedef</span> <span class="keyword">typename</span> _Container::const_reference const_reference;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">stack</span>() : c()</span><br><span class="line">	&#123;	<span class="comment">// construct with empty container</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	explicit stack(const _Container&amp; _Cont) : c(_Cont)</span><br><span class="line">	&#123;	<span class="comment">// construct by copying specified container</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function">	</span>&#123;	<span class="comment">// test if stack is empty</span></span><br><span class="line">		<span class="keyword">return</span> (c.empty());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function">size_type <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function">	</span>&#123;	<span class="comment">// test length of stack</span></span><br><span class="line">		<span class="keyword">return</span> (c.size());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function">reference <span class="title">top</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;	<span class="comment">// return last element of mutable stack</span></span><br><span class="line">		<span class="keyword">return</span> (c.back());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function">const_reference <span class="title">top</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function">	</span>&#123;	<span class="comment">// return last element of nonmutable stack</span></span><br><span class="line">		<span class="keyword">return</span> (c.back());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">const</span> value_type&amp; _Val)</span></span></span><br><span class="line"><span class="function">	</span>&#123;	<span class="comment">// insert element at end</span></span><br><span class="line">		c.push_back(_Val);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;	<span class="comment">// erase last element</span></span><br><span class="line">		c.pop_back();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">const</span> _Container&amp; _Get_container() <span class="keyword">const</span></span><br><span class="line">	&#123;	<span class="comment">// get reference to container</span></span><br><span class="line">		<span class="keyword">return</span> (c);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	_Container c;	<span class="comment">// the underlying container</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>不难发现，栈并没有提供自身的函数，而是封装了其他的数据结构，提供了对外的接口函数。</p>
<blockquote>
<p>在c++面向对象实用教程一书中，第275页，讲述了stack和queue本身都不是独立的容器，默认条件下，是用的deque的容器来构造的。</p>
</blockquote>
<hr>
<blockquote>
<p>在C++ Primer中第九章详细介绍了容器类型，deque双向队列是一种双向开口的连续线性空间，可以高效的在头尾两端插入和删除元素。</p>
</blockquote>
<hr>
<p>相比之下，STL栈并没有实现判满操作，因为，其使用容器类，不存在空间分配问题。同时，由于其余功能均采用容器，提供接口访问。在头部插入和删除的效率很高。使用时，仅需要包含其头文件即可。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/14/data_structure/kmp算法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chens">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/Vendetta.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chens">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/14/data_structure/kmp算法/" itemprop="url">kmp算法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-14T16:31:20+08:00">
                2019-03-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/data-structure/" itemprop="url" rel="index">
                    <span itemprop="name">data_structure</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p>##一、kmp算法的核心思想<br>KMP算法的想法是，设法利用某些已知信息，不要把”搜索位置”移回已经比较过的位置，继续把它向后移，这样就提高了效率。</p>
<p>##二、具体实现<br>具体的算法实现不说了，书上都有，很详细。<br>下面贴上做了对于长连续串next数组的优化的代码</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">kmp</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *src,<span class="keyword">const</span> <span class="keyword">char</span> *dst)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i=<span class="number">0</span>;<span class="comment">//记录源串信息</span></span><br><span class="line">	<span class="keyword">int</span> j=<span class="number">0</span>;<span class="comment">//记录子串信息</span></span><br><span class="line">	<span class="keyword">int</span> n=<span class="built_in">strlen</span>(src);</span><br><span class="line">	<span class="keyword">int</span> m=<span class="built_in">strlen</span>(dst);</span><br><span class="line">	<span class="comment">//next数组存的是，如果匹配失败，j回到next[j]，i不变，继续比较、</span></span><br><span class="line">	<span class="keyword">while</span>(i&lt;n &amp;&amp; j&lt;m)<span class="comment">//当字符没有到底，进行比较</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (j==<span class="number">-1</span> || src[i]==dst[j])<span class="comment">//如果当前字符相等，后移继续比较，若不等，取next数组中值，开始比较</span></span><br><span class="line">		&#123;</span><br><span class="line">			i++; j++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			j=next[j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (j&gt;=m)</span><br><span class="line">		<span class="keyword">return</span> i-m;	<span class="comment">//返回</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;  <span class="comment">//没有找到</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">GetNext</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> m=<span class="built_in">strlen</span>(str);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> j=<span class="number">0</span>;<span class="keyword">int</span> k=<span class="number">-1</span>;</span><br><span class="line">	next[<span class="number">0</span>]=<span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">while</span> (j&lt;m<span class="number">-1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//以前一种符合的状态为基准，判断现在的状态，如果继续符合，值加1，否则回到之前从比</span></span><br><span class="line">		<span class="keyword">if</span>(k==<span class="number">-1</span>||str[j]==str[k])<span class="comment">//如果刚进来，则k++，并把值存入next数组。</span></span><br><span class="line">		&#123;</span><br><span class="line">			j++;  k++;</span><br><span class="line">			next[j] = k;</span><br><span class="line">			<span class="keyword">if</span> (str[j]==str[k])</span><br><span class="line">				next[j] = next[k];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			k=next[k];	<span class="comment">//回到之前。</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>##三、测试<br>测试一下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> str[<span class="number">20</span>]=<span class="string">"aaaabcdabcda"</span>;</span><br><span class="line">	<span class="keyword">char</span> a[<span class="number">10</span>]=<span class="string">"abc"</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;str&lt;&lt;<span class="built_in">endl</span>&lt;&lt;a&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	GetNext(a);</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;kmp(str,a)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">char</span> str1[<span class="number">20</span>]=<span class="string">"abcdabcda"</span>;</span><br><span class="line">	<span class="keyword">char</span> a1[<span class="number">10</span>]=<span class="string">"aaaabc"</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;str1&lt;&lt;<span class="built_in">endl</span>&lt;&lt;a1&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	GetNext(a1);</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;kmp(str,a1)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>结果：<br><img src="http://7xi4ge.com1.z0.glb.clouddn.com/kmp01.png" alt="此处输入图片的描述"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/14/data_structure/c++ 中new与delete的探究以及小问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chens">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/Vendetta.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chens">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/14/data_structure/c++ 中new与delete的探究以及小问题/" itemprop="url">c++ 中new与delete的探究以及小问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-14T16:31:20+08:00">
                2019-03-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/data-structure/" itemprop="url" rel="index">
                    <span itemprop="name">data_structure</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p><a href="https://www.zybuluo.com/rg070836rg/note/83692" target="_blank" rel="noopener">返回目录</a></p>
<hr>
<p>##一、new运算符<br>从<strong>自由存储</strong>为 type-name 的对象或对象数组分配内存，并将已适当分类的非零指针返回到对象。</p>
<p>###1.1、new 的工作方式<br>包含new运算符的表达式执行三类操作：</p>
<ul>
<li>定位并保留要分配的对象的存储，此阶段完成后，将分配正确的存储量，但它还不是对象。</li>
<li>初始化对象。   初始化完成后，将为成为对象的已分配存储显示足够的信息。</li>
<li>返回指向派生自 new-type-name 或 type-name的指针类型的对象的指针。 程序使用此指针来访问最近分配的对象。<br><strong>（简单来说，就是先分配内存，再构造对象，然后返回指针）</strong></li>
</ul>
<p>new 运算符调用函数 <strong>operator new</strong>，为数组以及基本类型对象分配存储<br>类对象可基于每个类定义其自己的 operator new 静态成员函数。</p>
<p>###1.2、关于如何分配内存量<br>当编译器遇到用于分配类型 type 的对象的 new 运算符时，它将发布对 <code>type::operator new( sizeof( type ) )</code> 的调用。因此，new 运算符可以为对象分配正确的内存量。 </p>
<p>##1.3、关于分配失败<br>如果不成功，则 new 将返回<strong>零</strong>或<strong>引发异常</strong>（std::bad_alloc）<br>例如下面的测试：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUM 500000000</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> *p = <span class="keyword">new</span> <span class="keyword">int</span>[NUM];</span><br><span class="line">	<span class="keyword">if</span> (p == <span class="number">0x0</span>) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"内存不足"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		system(<span class="string">"pause"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"分配成功"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		system(<span class="string">"pause"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">###在VS下面，只会返回异常如下图：</span><br><span class="line"> ![此处输入图片的描述][<span class="number">2</span>]</span><br><span class="line"> </span><br><span class="line"> 当调整数据较小时(<span class="number">350000000</span>)，可以分配成功.</span><br><span class="line"> ![此处输入图片的描述][<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"> 后修改测试代码，</span><br><span class="line">```CPP</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; ;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> *p = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10000</span>];</span><br><span class="line">		<span class="keyword">if</span> (p == <span class="number">0x0</span>) &#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">"内存不足"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">			system(<span class="string">"pause"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">``` </span><br><span class="line">发现，少量多次分配，基本不会出现大问题。程序可以分配到<span class="number">2</span>G内存之后，报出<span class="built_in">std</span>::bad_alloc异常。</span><br><span class="line"></span><br><span class="line">###VC平台</span><br><span class="line">现在换到VC平台，调用分配大块内存，默认为抛出<span class="number">0</span>，而不是异常。</span><br><span class="line">![此处输入图片的描述][<span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">##<span class="number">1.4</span>、解决方法</span><br><span class="line">来自[微软中国][<span class="number">5</span>]</span><br><span class="line">处理失败的内存分配要求的方法：</span><br><span class="line">编写自定义恢复例程来处理此类失败，然后通过调用 _set_new_handler 运行时函数来注册您的函数。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">----------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">##二、<span class="keyword">delete</span> 运算符</span><br><span class="line">###<span class="number">2.1</span>、用处</span><br><span class="line">    用于删除用<span class="keyword">new</span>申请的空间，释放空间块。</span><br><span class="line">###<span class="number">2.2</span>、注意点</span><br><span class="line"></span><br><span class="line"> &gt;- 使用对象的 <span class="keyword">delete</span> 运算符释放其内存。 在对象中删除后取消引用指针的程序，可能会有不可预知的结果或崩溃。 </span><br><span class="line"> &gt;-  当 <span class="keyword">delete</span>用于释放C++类对象的内存时，对象的析构函数会在释放对象内存前调用 (如果对象具有析构函数)。 </span><br><span class="line"> &gt;- 如果对 <span class="keyword">delete</span>运算符的操作的是一个可修改的左值，那么在对象删除后其值是未定义的。</span><br><span class="line"></span><br><span class="line">---------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">##三、其他问题</span><br><span class="line">###<span class="number">3.1</span>在使用deltet后，需要把指针置空</span><br><span class="line">如：</span><br><span class="line">``` </span><br><span class="line"><span class="keyword">delete</span> L.head;     </span><br><span class="line">L.head=<span class="literal">NULL</span>;</span><br><span class="line">``` </span><br><span class="line">那么问题来了：**为什么在<span class="keyword">delete</span> L.head后，还需要赋值为空，是否多余？**</span><br><span class="line"></span><br><span class="line">测试：</span><br><span class="line">```cpp</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *p = <span class="keyword">new</span> <span class="keyword">int</span>;</span><br><span class="line">    *p=<span class="number">5</span>;</span><br><span class="line">	<span class="keyword">delete</span> p;</span><br><span class="line">	p=<span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>1、在执行了new之后，返回一个地址给p，<br><img src="http://7xi4ge.com1.z0.glb.clouddn.com/%E6%8C%87%E9%92%8801.png" alt="此处输入图片的描述"><br>2、然后，p赋值5；<br><img src="http://7xi4ge.com1.z0.glb.clouddn.com/%E6%8C%87%E9%92%8802.png" alt="此处输入图片的描述"><br>3、接下来delete p；值变成未知值。<br><img src="http://7xi4ge.com1.z0.glb.clouddn.com/%E6%8C%87%E9%92%8803.png" alt="此处输入图片的描述"><br>但注意！这边并没有把p给释放掉，也就是说，p仍然指向了，一个内存单元，与之前的区别在于，原来那个单元是我自己申请的，属于我管，但是，现在我不想要了， 把他扔掉了，那这块就不归我管了，就好比把房子卖了，保存了钥匙。实际上，程序“应该”已经不具备管理这个内存单元的权利，但是我却没把权利完全给交出去一样.所以，一旦有其他程序，利用了这个内存单元（好比其他人把房子买了过去），而我恰巧操作不当，使用了这个本身不归我管理的“钥匙”，那么就会造成程序的紊乱。（换句话说，就是指向内存块不合法！）</p>
<p>4、因此，我们需要执行第四步，置空。<br><img src="http://7xi4ge.com1.z0.glb.clouddn.com/%E6%8C%87%E9%92%8804.png" alt="此处输入图片的描述"><br>这样，就不会产生野指针，造成紊乱。</p>
<hr>
<p>###3.2、悬垂指针</p>
<p>####<strong>3.2.1定义</strong><br>当所指向的对象被释放或者收回，但是对该指针没有作任何的修改，以至于该指针仍旧指向已经回收的内存地址，此情况下该指针便称悬垂指针。</p>
<p>####<strong>3.2.2成因</strong><br>1、    在许多编程语言中，显示地从内存中删除一个对象或者返回时通过销毁栈帧，并不会改变相关的指针的值。该指针仍旧指向内存中相同的位置，即使指针所指的内容已经被删除。一旦误操作该指针，会导致错误。<br>2、    当一个指针指向的内存被释放后就会变成悬垂指针。可以避免这个问题的一种方法是在释放它的引用后把指针重置为NULL。</p>
<p>####<strong>3.2.3来自百科的一种解决方法</strong><br>引入智能指针可以防止垂悬指针出现。一般是把指针封装到一个称之为智能指针类中，这个类中另外还封装了一个使用计数器，对指针的复制等操作将导致该计数器的值加1，对指针的delete操作则会减1，值为0时，指针为NULL</p>
<hr>
<p>###<strong>3.3内存泄露</strong><br>这是与悬垂指针相对立的一个问题。</p>
<p>####<strong>3.3.1定义</strong><br> <strong>memory leak</strong>指由于疏忽或错误造成程序未能释放已经不再使用的内存的情况。内存泄漏并非指内存在物理上的消失，而是应用程序分配某段内存后，由于设计错误，失去了对该段内存的控制，因而造成了内存的浪费。 </p>
<p>###<strong>3.3.2演示</strong><br> 举个简单的例子:<br> 定义一个节点类，然后一次生成5个节点。进行一些操作。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> a;</span><br><span class="line">	Node* next;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Node *pHead=<span class="keyword">new</span> Node;</span><br><span class="line">	pHead-&gt;a=<span class="number">0</span>;</span><br><span class="line">	pHead-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">	Node *p=pHead;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">		p-&gt;next=<span class="keyword">new</span> Node;</span><br><span class="line">		p=p-&gt;next;</span><br><span class="line">		p-&gt;a=i+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">	p-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">while</span> (pHead)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;pHead-&gt;a&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		pHead=pHead-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>程序理所当然的运行了：<br><img src="http://7xi4ge.com1.z0.glb.clouddn.com/%E6%8C%87%E9%92%8805.png" alt="此处输入图片的描述"></p>
<p>结果看上去也没错，输出了5个值。<br><img src="http://7xi4ge.com1.z0.glb.clouddn.com/%E6%8C%87%E9%92%8806.png" alt="此处输入图片的描述"></p>
<p>但是请注意，如果还有后续操作，会发现，根本找不到之前的元素了！<br><img src="http://7xi4ge.com1.z0.glb.clouddn.com/%E6%8C%87%E9%92%8807.png" alt="此处输入图片的描述"></p>
<p>这就产生了内存泄露，那些元素除非是在程序运行结束，否则空间根本不可能被释放！这是小程序，看不出来，如果在一个大程序中也犯如此低级错，那么程序将消耗巨额内存。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/13/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chens">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/Vendetta.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chens">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/13/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-13T17:39:46+08:00">
                2019-03-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hexo/" itemprop="url" rel="index">
                    <span itemprop="name">hexo</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/19/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/19/">19</a><span class="page-number current">20</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/Vendetta.jpg" alt="Chens">
            
              <p class="site-author-name" itemprop="name">Chens</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">198</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">58</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chens</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
